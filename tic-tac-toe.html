<!DOCTYPE html>
<html>
<head>
    <title>Tic Tac Toe</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #board-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            padding: 20px;
        }

        #board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            gap: 5px;
        }

        #board-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            padding: 20px;
        }
        .cell {
            width: 100px;
            height: 100px;
            font-size: 2em;
            background: #f8f8f8;
            border: 2px solid #ddd;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: system-ui, sans-serif;
            outline: none;
            position: relative;
            overflow: hidden;
        }

        .cell::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 80%;
            height: 80%;
            border: 2px solid #007bff;
            border-radius: 50%;
            opacity: 0.3;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .cell:focus-visible {
            outline: 3px solid #28a745;
            outline-offset: 3px;
        }

        .cell:hover::after {
            transform: translate(-50%, -50%) scale(1.2);
            opacity: 0.5;
        }

        .cell:active {
            transform: scale(0.95);
        }

        #status {
            margin-top: 25px;
            font-size: 1.3em;
            padding: 15px;
            background: #fff3cd;
            border-radius: 8px;
            color: #856404;
            display: inline-block;
            margin-left: auto;
            margin-right: auto;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        button { padding: 10px 20px; font-size: 1em; }
    </style>
</head>
<body>
    <h1>Tic Tac Toe</h1>
    <div id="board-container">
        <div id="board"></div>
    </div>
    <div id="status" role="status"></div>
    <button onclick="resetGame()" aria-label="Start new game">New Game</button>

    <script>
        const board = document.getElementById('board');
        const status = document.getElementById('status');
        let gameActive = true;
        let humanTurn = true;
        const winningCombos = [
            [0,1,2], [3,4,5], [6,7,8],
            [0,3,6], [1,4,7], [2,5,8],
            [0,4,8], [2,4,6]
        ];
        let gameState = Array(9).fill(null);

        function createBoard() {
            board.innerHTML = '';
            gameState = Array(9).fill(null);
            for (let i = 0; i < 9; i++) {
            const cell = document.createElement('button');
            cell.classList.add('cell');
            cell.dataset.index = i;
            cell.type = 'button';
            cell.setAttribute('aria-label', `Cell ${i + 1}`);
            cell.addEventListener('click', onCellClick);
            board.appendChild(cell);
            }
            status.textContent = "Your turn! (X)";
            gameActive = true;
        }

        function onCellClick(e) {
            const index = e.target.dataset.index;
            if (!gameActive || gameState[index]) return;

            gameState[index] = 'X';
            e.target.textContent = 'X';
            if (checkWin('X')) {
                status.textContent = "You win!";
                gameActive = false;
                return;
            }

            if (gameState.every(cell => cell)) {
                status.textContent = "It's a draw!";
                gameActive = false;
                return;
            }

            humanTurn = false;
            status.textContent = "Bot's turn... (O)";
            setTimeout(botMove, 500);
        }

        function botMove() {
            if (!gameActive) return;

            let move = findBestMove();
            gameState[move] = 'O';
            const cell = document.querySelector(`.cell[data-index="${move}"]`);
            cell.textContent = 'O';

            if (checkWin('O')) {
                status.textContent = "Bot wins!";
                gameActive = false;
                return;
            }

            if (gameState.every(cell => cell)) {
                status.textContent = "It's a draw!";
                gameActive = false;
                return;
            }

            humanTurn = true;
            status.textContent = "Your turn! (X)";
        }

        function findBestMove() {
            // Check for winning move
            for (let i = 0; i < 9; i++) {
                if (gameState[i]) continue;
                gameState[i] = 'O';
                if (checkWin('O')) return i;
                gameState[i] = null;
            }

            // Block player's win
            for (let i = 0; i < 9; i++) {
                if (gameState[i]) continue;
                gameState[i] = 'X';
                if (checkWin('X')) {
                    gameState[i] = null;
                    return i;
                }
                gameState[i] = null;
            }

            // Take center
            if (!gameState[4]) return 4;

            // Take corners
            const corners = [0,2,6,8];
            const availableCorners = corners.filter(i => !gameState[i]);
            if (availableCorners.length > 0) {
                return availableCorners[Math.floor(Math.random() * availableCorners.length)];
            }

            // Take sides
            const sides = [1,3,5,7];
            return sides.find(i => !gameState[i]);
        }

        function checkWin(player) {
            return winningCombos.some(combo => 
                combo.every(index => gameState[index] === player)
            );
        }

        function resetGame() {
            createBoard();
        }

        createBoard();
    </script>
</body>
</html>